<?php

use Drupal\Core\Language\LanguageInterface;
use Drupal\editor\Entity\Editor;

/**
 * @file
 * Contains project_backend.module.
 */

// Custom admin css.
\Drupal::moduleHandler()
  ->loadInclude('project_backend', 'inc', 'project_backend.theme');

// Add remote audio as a media type.
\Drupal::moduleHandler()
  ->loadInclude('project_backend', 'inc', 'project_backend.media_types');


/**
 * Load our theme's CK Editor CSS file.
 *
 * Implements hook_ckeditor_css_alter().
 */
function project_backend_ckeditor_css_alter(array &$css, Editor $editor) {
  $css[] = \Drupal::service('extension.list.theme')
      ->getPath('nrgi') . '/assets/css/ckeditor-style.css';
}

function project_backend_language_switch_links_alter(array &$links, $type, $path) {
  $currentLanguage = \Drupal::languageManager()->getCurrentLanguage()->getId();
  $translationLanguages = array_keys(\Drupal::routeMatch()->getParameter('node')->getTranslationLanguages());
  if (in_array($currentLanguage, $translationLanguages)) {
    $t = 1;
  }
}
